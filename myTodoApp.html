<head>
	<title>My Special Todo App</title>
</head>

<body>
	<h1>Jon Rovira's Todo List ({{incompleteCount}})</h1>
	{{> addCommitment}}
	{{> hideCompleted}}
	{{> loginButtons}}

	<ul>
		{{#each commitments}}
			{{> commitment}}
		{{/each}}
	</ul>

</body>


<!-- Hide completed option -->
<template name="hideCompleted">
	<label>
	  	<input type="checkbox" checked="{{hideCompleted}}" />
	  	Hide Completed Tasks
	</label>
</template>

<!-- Add commitment form -->
<template name="addCommitment">
	{{#if currentUser}}
		<form>
			<input type="text" name="commitment" placeholder="Add a new commitment" />
		</form>
	{{/if}}
</template>

<!-- Add task form -->
<template name="addTask">
	{{#if currentUser}}
		<form>
			<input type="text" name="task" placeholder="Add a new commitment" />
		</form>
	{{/if}}
</template>

<!-- Commitment item -->
<template name="commitment">
	<li class="{{#if checked}}checked{{/if}} {{#if private}}private{{/if}}">
		<button class="delete">&times;</button>
		<input type="checkbox" checked="{{checked}}" class="toggle-checked" />
		{{#if isOwner}}
			<button class="toggle-private">
				{{#if private}}
					Private
				{{else}}
					Public
				{{/if}}
			</button>
		{{/if}}
		<span class="commitment"><strong>{{username}}</strong> - {{commitment}}</span>
		{{> addTask}}
		<ul>
			{{#each tasks}}
				{{> task}}
			{{/each}}
		</ul>
	</li>
</template>

<!-- Task item -->
<template name="task">
	<li>
		<button class="delete">&times;</button>
		<input type="checkbox" checked="{{checked}}" class="toggle-checked" />
		<span class="task"><strong>{{username}}</strong> - {{task}}</span>
	</li>
</template>